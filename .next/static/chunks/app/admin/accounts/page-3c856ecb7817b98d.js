(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{46534:function(e,a,s){Promise.resolve().then(s.bind(s,99436))},99436:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return l}});var t=s(57437),n=s(2265);function l(){let[e,a]=(0,n.useState)([]),[s,l]=(0,n.useState)(!0),[i,r]=(0,n.useState)("");(0,n.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/admin/users");if(!e.ok)throw Error("Failed to fetch users");let s=await e.json();a(s.users)}catch(e){r("Failed to load users"),console.error(e)}finally{l(!1)}},d=async(e,a)=>{let s=prompt("Enter new balance:",a.toString());if(null===s)return;let t=parseFloat(s);if(isNaN(t)){alert("Please enter a valid number");return}try{if(!(await fetch("/api/admin/accounts",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:e,newBalance:t,reason:"Admin balance adjustment"})})).ok)throw Error("Failed to update balance");await c()}catch(e){alert("Failed to update balance"),console.error(e)}};return s?(0,t.jsx)("div",{className:"p-4",children:"Loading..."}):i?(0,t.jsx)("div",{className:"p-4 text-red-500",children:i}):(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Manage User Accounts"}),(0,t.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-gray-600",children:e.email})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.accounts.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between border-t pt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:e.type}),(0,t.jsxs)("span",{className:"ml-4 text-gray-600",children:["Balance: $",e.balance.toFixed(2)]})]}),(0,t.jsx)("button",{onClick:()=>d(e.id,e.balance),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Update Balance"})]},e.id))})]},e.id))})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=46534)}),_N_E=e.O()}]);